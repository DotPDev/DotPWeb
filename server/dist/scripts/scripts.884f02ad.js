"use strict";angular.module("clientApp",["ngAnimate","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","firebase","ui.router","com.2fdevs.videogular","com.2fdevs.videogular.plugins.controls","com.2fdevs.videogular.plugins.overlayplay","com.2fdevs.videogular.plugins.poster","matchMedia","angularMoment","720kb.socialshare","vsGoogleAutocomplete"]).config(["$urlRouterProvider","$stateProvider","$locationProvider",function(a,b,c){c.html5Mode(!0),a.otherwise("/"),b.state("root",{url:"","abstract":!0,resolve:{},views:{"titlebar@":{templateUrl:"views/titlebar.html",controller:"TitlebarCtrl",controllerAs:"vm"},"dotp-loader@":{controller:"DotpLoaderCtrl",controllerAs:"vm"}}}),b.state("root.dashboard",{url:"/",resolve:{},data:{pageName:"MainCtrl",browserTitle:"Main",description:"A DOTA 2 Podcast dedicated to providing quality, regular content for fellow players enjoying the games we too know and love."},views:{"container@":{templateUrl:"views/home.html",controller:"AboutCtrl",controllerAs:"vm"}}}),b.state("root.dotpeeps",{url:"/dotpeeps",data:{pageName:"DotpeepsCtrl",browserTitle:"Dotpeeps",description:"A list of people who have supported, built and ensured the growth of Defense of the Patience."},views:{"container@":{templateUrl:"views/dotpeeps.html",controller:"DotpeepsCtrl",controllerAs:"vm"}}}),b.state("root.hosts",{url:"/hosts",data:{pageName:"hosts",browserTitle:"Hosts",description:"Our intrepid Hosts of the podcast"},views:{"container@":{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"vm"}}}),b.state("root.ladder",{url:"/ladder",data:{pageName:"LadderCtrl",browserTitle:"Ladder",description:"Every week on Wednesday starting at 9:00pm Eastern Time(USA) there will be (up to) 9 games that count towards our ladder (3 concurrent lobbies with 3 games each). Lobby 3 will be reserved for high skill players(4k+) while lobbies 1 and 2 will be for under 4k players. Once you have played in a game each night you are required to defer your spot in the following games to other players unless no other players are waiting to play."},views:{"container@":{templateUrl:"views/ladder.html",controller:"LadderCtrl",controllerAs:"vm"}}}),b.state("root.media",{url:"/media",data:{pageName:"MediaCtrl",browserTitle:"Media"},views:{"container@":{templateUrl:"views/media.html",controller:"MediaCtrl",controllerAs:"vm"}}}),b.state("root.store",{url:"/store",data:{pageName:"StoreCtrl",browserTitle:"Store"},views:{"container@":{templateUrl:"views/store.html",controller:"StoreCtrl",controllerAs:"vm"}}}),b.state("root.login",{url:"/login",resolve:{},data:{pageName:"LoginCtrl",browserTitle:"Login"},views:{"container@":{templateUrl:"views/login.html",controller:"LoginCtrl",controllerAs:"vm"}}}),b.state("root.giveaway",{url:"/1080giveaway",resolve:{},data:{pageName:"giveAway",browserTitle:"About",description:"Defense of the Patience is a gaming podcast founded in July 2014. Join in our exciting giveaway of a GTX1080!"},views:{"container@":{templateUrl:"views/1080giveaway.html",controller:"AboutCtrl",controllerAs:"vm"}}}),b.state("root.pvgna",{url:"/pvgna",resolve:{},data:{pageName:"pvgna",browserTitle:"PVGNA",description:"Defense of the Patience is a gaming podcast founded in July 2014. Redirect to PVGNA..."},onEnter:function(){window.location.href="https://pvgna.com/?ref=dotp"},views:{"container@":{templateUrl:"views/home.html",controller:"AboutCtrl"}}}),b.state("root.episodes",{url:"/episodes",resolve:{},data:{pageName:"EpisodesCtrl",browserTitle:"Episodes",description:"Defense of the Patience is a gaming podcast founded in July 2014. We began as humble, amateur Dota 2 podcast hosts, and have expanded to cover additional games with special bonus episodes while still featuring a solid lineup of shows devoted to Dota 2 featuring a wide array of talented Dota 2 players, amateurs and scene insiders alike."},views:{"container@":{templateUrl:"views/episodes.html",controller:"MainCtrl",controllerAs:"vm"}}}),b.state("root.social",{url:"/social",resolve:{},data:{pageName:"SocialCtrl",browserTitle:"Social",description:"Share the Dota2 website to the social aggregator of your choice."},views:{"container@":{templateUrl:"views/social.html",controller:"SocialCtrl",controllerAs:"vm"}}}),b.state("root.orderStatus",{url:"/orders/:orderId",resolve:{},data:{pageName:"OrderStatusCtrl",browserTitle:"Order Status",description:"Check your order status"},views:{"container@":{templateUrl:"views/order-status.html",controller:"OrderStatusCtrl",controllerAs:"vm"}}})}]).run(["$rootScope","firebaseSvc","$location","googleAnalytics","MetaService",function(a,b,c,d,e){d.init(),b.initialize(),a.$on("$stateChangeSuccess",function(b,f,g,h,i){d.trackPage(c.path()),a.metaservice=e,a.metaservice.set(f.data.browserTitle,f.data.description,"Dota 2, Dota 2 Podcast, DotP, Defense of the Patience, Defense of the Ancients, Defense of the Ancients Podcast, Dotp.Proud, Proud, DotP.Roland, Roland, DotP.Ursinity, Ursinity, DotP.Cyphus, Cyphus")})}]),angular.module("clientApp").controller("MainCtrl",["$scope","$http","$rootScope","feedManager","utils","uiState",function(a,b,c,d,e,f){function g(){return f.getState(s.states.podcastButton)}function h(){return f.getState(s.states.podcastPlaying)}function i(){h()?k():j()}function j(){c.$broadcast("player-play",s.feed.episodes[0])}function k(){c.$broadcast("player-stop")}function l(){s.page=parseInt(e.getParameterByName("page")),s.page||(s.page=1),n(),q()}function m(a){var b=new Date(a),c=b.getDay();return 0===c?"../images/DotP_Icon-01.png":1===c?"../images/DotP_Icon-02.png":2===c?"../images/DotP_Icon-03.png":3===c?"../images/DotP_Icon-04.png":4===c?"../images/DotP_Icon-05.png":5===c?"../images/DotP_Icon-06.png":"../images/DotP_Icon-01.png"}function n(){1===s.page?(s.links.next="/?page="+(s.page+1),s.links.prev="/"):(s.links.next="/?page="+(s.page+1),s.links.prev="/?page="+(s.page-1))}function o(){setTimeout(function(){s.page+=1,n(),q()},1)}function p(){setTimeout(function(){s.page>1&&(s.page-=1,n(),q())},1)}function q(){d.parseFeed(s.page).then(function(a){s.feed=a})["catch"](function(a){console.log(a)})}function r(a){c.$broadcast("player-play",a)}var s=this;s.feed={},s.page=1,s.links={next:"/",prev:"/"},s.states={},s.states.podcastButton="isPodcastOpen",s.states.podcastPlaying="isPodcastPlaying",s.getImage=m,s.startPodcast=r,s.isOpen=!1,s.isPlaying=h,s.handleClick=i,s.getPodcastButtonState=g,s.goNext=o,s.goPrev=p,a.$on("main-next",function(a,b){o()}),a.$on("main-prev",function(a,b){p()}),l()}]),angular.module("clientApp").controller("AboutCtrl",["$scope",function(a){function b(a){console.log(a),d.selectedSection=a}function c(a){return a===d.selectedSection?"active":void 0}this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"];var d=this;return{getActiveState:c,navigateAbout:b}}]),angular.module("clientApp").factory("feedManager",["$http","$timeout","$q",function(a,b,c){function d(){h={episodes:[],meta:{}}}function e(g){if(0===h.episodes.length)return setTimeout(d,3e5),a.get("/api/feed/").then(function(a){return a.message&&"service not loaded"===a.message&&b(function(){e()},3e3),h=a.data,f(h,6*g-6,6*g)})["catch"](function(a){console.log(a)});var i=c.defer();return i.resolve(f(h,6*g-6,6*g)),i.promise}function f(a){return{episodes:a.episodes.map(function(a){return-1===a.link.indexOf("mp3")&&(a.link=a.enclosures[0].url),a.summary=g(a.summary),a}),meta:a.meta}}function g(a){if(a){var b=a.replace("<h2>Defense of the Patience - A Dota 2 Podcast</h2> ",""),c=b.replace("<h2><strong>Defense of the Patience - A Dota 2Podcast</strong></h2> ",""),d=c.replace("<h2><strong>Defense of the Patience - A Dota 2 Podcast</strong></h2> ",""),e=d.replace("<strong>",""),f=e.replace("</strong>","");return f.replace(/<{1}[^<>]{1,}>{1}/g,"")}}var h={episodes:[],meta:{}};return{parseFeed:e}}]),angular.module("clientApp").factory("DotpLoaderSvc",["$window",function(a){function b(){e.className+=" loading"}function c(){e.className="ng-scope reset"}function d(){e.className="ng-scope",setTimeout(b,1e3),setTimeout(c,2e3)}var e=document.getElementById("dotp-loader-container");return{startLoader:d}}]),angular.module("clientApp").directive("episodes",function(){return{scope:{},templateUrl:"views/episodes.html",controller:"MainCtrl",controllerAs:"vm",restrict:"EA",bindToController:!0}});var dotptvUrl="https://api.twitch.tv/kraken/streams/dotptv?client_id=",twitchToken="3z0mitbqrdjd3d7qrj1rirl6wrzp13";angular.module("clientApp").controller("TitlebarCtrl",["$scope","auth","$window","$state","screenSize",function(a,b,c,d,e){function f(){h()}function g(){e.is("smartphones")?q.slideNavPanel=!q.slideNavPanel:q.isShowingLogin=!q.isShowingLogin}function h(){e.is("smartphones")&&(q.isCollapsed=!0),e.on("smartphones",function(a){q.isCollapsed=a})}function i(){q.isShowingLogin=!1,d.go("root.login")}function j(){q.isShowingLogin=!1,b.signOut(),d.go("root.dashboard")}function k(){return p(),q.isStreaming?"streaming":"offline"}function l(a){return a.json().then(function(a){return a.error})}function m(){var a=new Headers;return a.append("Accept","application/json"),a.append("Content-Type","application/json"),a}function n(a){return a.json().then(function(a){return a})}function o(a){const b={method:"GET",headers:m(),credentials:"same-origin"};return new Request(a,b)}function p(){fetch(o(dotptvUrl+twitchToken)).then(function(a){a.ok?n(a).then(function(a){q.isStreaming=null!==a.stream}):l(a).then(function(a){console.log(a)})})}var q=this;q.user=b.getAuth(),q.signOut=j,q.isShowingLogin=!1,q.getTwitchClass=k,q.goToLogin=i,q.isCollapsed=!1,q.slideNavPanel=!1,q.clickPower=g,q.isStreaming=!1,a.dotpSocialLinks=[{type:"discord",url:"https://discord.gg/dotp"},{type:"twitch",url:"https://twitch.tv/dotptv"},{type:"youtube",url:"https://www.youtube.com/dotptv1"},{type:"patreon",url:"https://www.patreon.com/DefenseOfThePatience"},{type:"twitter",url:"https://twitter.com/DotP_Show"},{type:"PVGNA",url:"https://pvgna.com/?ref=dotp"}],e.rules={smartphones:"only screen and (max-width: 830px)"},c.firebase.auth().onAuthStateChanged(function(b){b?(q.user=b,a.$apply()):(q.user=null,a.$apply())}),f()}]),angular.module("clientApp").factory("firebaseSvc",["$window","$q",function(a,b){function c(a){var c=b.defer();return f.ref(a).once("value").then(function(a){c.resolve(a.val())}),c.promise}function d(){var b={apiKey:"AIzaSyAvbGaPlMAtBnnnAzkJRbpBmmmIMee-PEI",authDomain:"defenseofthepatience-b2b5f.firebaseapp.com",databaseURL:"https://defenseofthepatience-b2b5f.firebaseio.com",storageBucket:"defenseofthepatience-b2b5f.appspot.com",messagingSenderId:"45457898855"};e=a.firebase.initializeApp(b),g=a.firebase.storage(),f=a.firebase.database(),h=a.firebase.auth().onAuthStateChanged(function(a){i=a})}var e,f,g,h,i=null;return{initialize:d,getDatabaseOnce:c}}]),angular.module("clientApp").factory("auth",["$window",function(a){function b(a,b){return g.auth().createUserWithEmailAndPassword(a,b)["catch"](function(a){return console.log(a),null})}function c(a,b){return g.auth().signInWithEmailAndPassword(a,b)["catch"](function(a){return console.log(a),null})}function d(){return g.auth().signOut()}function e(){return g.auth().currentUser}function f(a){return g.auth().sendPasswordResetEmail(a)}var g=a.firebase;return{createUserAccount:b,signIn:c,signOut:d,getAuth:e,resetPassword:f}}]),angular.module("clientApp").controller("LoginCtrl",["$state","auth","$window","utils",function(a,b,c,d){function e(a){a&&(m.createMode?j():i())}function f(){m.createMode=!1,m.resetPasswordMode=!0}function g(){m.createMode=!1,m.resetPasswordMode=!1}function h(a){b.resetPassword(a).then(function(a){})["catch"](function(a){console.log(a),console.log("reset email error, object is:")})}function i(){b.signIn(m.userEmail,m.password).then(function(b){m.user=b,a.go("root.dashboard")})["catch"](function(a){console.log(a)})}function j(){b.createUserAccount(m.newUserEmail,m.newPassword).then(function(a){k(a,!0)})["catch"](function(a){console.log(a)})}function k(a,b){a.updateProfile({email:a.email,displayName:m.newUserDisplayName||""}).then(function(){i(),l(a,b)},function(a){console.log(a)})}function l(a,b){var e=d.makeServerTime(),f={email:a.email,displayName:m.newUserDisplayName||"",photoURL:a.photoURL||"",createdAt:e};b?c.firebase.database().ref("users/"+a.uid).set(f).then(function(){})["catch"](function(a){console.log(a)}):c.firebase.database().ref("users/"+a.uid).update(f).then(function(){})["catch"](function(a){console.log(a)})}var m=this;m.user=b.getAuth(),m.submitForm=e,m.createUser=j,m.updateProfile=k,m.resetPassword=f,m.cancelAction=g,m.login=i,m.forgotPassword=h,m.password="",m.userEmail="",m.newUserEmail="",m.newUserDisplayName="",m.resetEmail="",m.newPassword="",m.confirmPassword="",m.createMode=!1,m.resetPasswordMode=!1}]),angular.module("clientApp").factory("utils",["$window",function(a){function b(){var a=Date.now(),b=Math.floor(a/1e3);return b}function c(b,c){c||(c=a.location.href),b=b.replace(/[\[\]]/g,"\\$&");var d=new RegExp("[?&]"+b+"(=([^&#]*)|&|#|$)"),e=d.exec(c);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null}return{getParameterByName:c,makeServerTime:b}}]),angular.module("clientApp").factory("uiState",function(){function a(a){return d&&d[a]?d[a]:!1}function b(a,b){d[a]=b}function c(a){d[a]=!d[a]}var d=this;return d.isPodcastOpen=!1,d.isPodcastPlaying=!1,d.timeStamp=new Date,{getState:a,setState:b,toggleState:c}}),angular.module("clientApp").factory("cart",["$window",function(a){function b(){h.cart.price=0;for(var a in h.cart.items)h.cart.price+=parseFloat(h.cart.items[a].retail_price)}function c(a){h.cart.items.push(a),b()}function d(){h.cart.items=[],b()}function e(){return h.cart.items}function f(){return h.cart.price}function g(a,c){a.splice(c,1),b()}var h=this;return h.cart={},h.cart.items=[],h.cart.price=0,{addToCart:c,emptyCart:d,getCartItems:e,updateTotalPrice:b,getTotalPrice:f,removeItem:g}}]),angular.module("clientApp").controller("DotpeepsCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("clientApp").controller("LadderCtrl",["firebaseSvc",function(a){function b(a,b){var c=parseInt(a.points),d=parseInt(b.points);return c>d?-1:1}this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"];var c=this;c.ladder={players:[]},a.getDatabaseOnce("inhouse-ladder").then(function(a){console.log(a),c.ladder.players=a.sort(b)})}]),angular.module("clientApp").controller("MediaCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("clientApp").controller("StoreCtrl",["$scope","firebaseSvc","$http","cart",function(a,b,c,d){function e(a){return"product-"+a}function f(b,c){console.log(c.currentTarget.parentNode),a.isItemSelected||(c.currentTarget.className+=" selected-item",a.isItemSelected=!0)}function g(b,c){setTimeout(function(){console.log("closing products"),console.log(c.currentTarget.parentNode.className),c.currentTarget.parentNode.className="product float-left ng-scope product-"+b,console.log(c.currentTarget.parentNode.className),a.isItemSelected=!1,a.$digest()},50)}function h(){for(var b=document.getElementById("paypal-button");b.firstChild;)b.removeChild(b.firstChild);r.cart.items.length?(a.isCheckingOut=!0,p()):a.validationMessage=" - No items in cart."}function i(){a.isCheckingOut=!1}function j(){return JSON.stringify({recipient:{name:a.buyer,address1:a.data.address.components.streetNumber+" "+a.data.address.components.street,city:a.data.address.components.city,state_code:a.data.address.components.state,country_code:a.data.address.components.countryCode,zip:a.data.address.components.postCode},items:d.getCartItems()})}function k(){a.isManagingCart=!0,a.isCheckingOut=!1}function l(){a.isManagingCart=!1,a.isCheckingOut=!1}function m(){d.emptyCart(),r.cart.items=d.getCartItems(),r.cart.price=d.getTotalPrice()}function n(b,c,e){a.validationMessage="";var f={};f="hat"===b.type?{variant_id:b.variant_id,name:b.name,retail_price:b.retail_price,quantity:1,files:b.files}:"mug"===b.type?{variant_id:b.chosenSize.variant_id,name:b.name,retail_price:b.retail_price,quantity:1,files:[{url:b.chosenSize.file},{type:"preview",url:"https://staging-defenseofthepatience.herokuapp.com/images/dotp-mug-left-handle.png"}]}:{variant_id:b.chosenSize.variant_id,size:b.chosenSize.size,name:b.name,retail_price:b.retail_price,quantity:1,files:b.files},d.addToCart(f),r.cart.items=d.getCartItems(),r.cart.price=d.getTotalPrice(),setTimeout(function(){e.currentTarget.parentNode.parentNode.className="product float-left ng-scope product-"+c,a.isItemSelected=!1,a.$digest()},50)}function o(a){d.removeItem(r.cart.items,a),r.cart.items=d.getCartItems(),r.cart.price=d.getTotalPrice()}function p(){var b=window.location.toString().toLowerCase(),c="sandbox";("https://defenseofthepatience.herokuapp.com/store"===b||"http://defenseofthepatience.herokuapp.com/store"===b||-1!==b.indexOf("defenseofthepatience.com/store"))&&(c="production"),paypal.Button.render({env:c,payment:function(){return paypal.request.post("/api/paypal/create/",{data:j()}).then(function(b){return a.printfulId=b.printfulId,b.payment=b.id,b.id})},onAuthorize:function(b,c){return console.log(b),console.log(c),paypal.request.post("/api/paypal/execute/",{payToken:b.paymentID,payerId:b.payerID,printfulId:a.printfulId}).then(function(b){q(),document.querySelector("#paypal-button").innerText="Payment Complete!",a.checkoutMessage="Order Placed"})}},"#paypal-button")}function q(){r.cart.items=[],d.emptyCart(),a.isCheckingOut=!1,a.isManagingCart=!1,r.cart.items=d.getCartItems(),r.cart.price=d.getTotalPrice(),a.data.address={name:"",place:"",components:{placeId:"",streetNumber:"",street:"",city:"",state:"",countryCode:"",country:"",postCode:"",district:""}},a.buyer="",a.$digest()}this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],console.log(d.getCartItems());var r=this;r.cart={},r.cart.price=0,r.cart.items=[],r.emptyCart=m,r.selectedProduct=null,a.isCheckingOut=!1,a.isManagingCart=!1,a.isItemSelected=!1,a.handleProductClick=f,a.closeProducts=g,a.getProductClass=e,r.startCheckOut=h,r.closeCheckOut=i,r.addToCart=n,r.openCart=k,r.closeCart=l,a.validationMessage="",a.checkoutMessage="",a.data={},a.orderNumber="",r.removeFromCart=o,a.data.address={name:"",place:"",components:{placeId:"",streetNumber:"",street:"",city:"",state:"",countryCode:"",country:"",postCode:"",district:""}},r.fakeStoreData=[{type:"clothing",name:"Men's DotP Beefy-T",retail_price:"24.99",quantity:1,files:[{url:"https://staging-defenseofthepatience.herokuapp.com/images/dotp-logo-shirt.png"},{type:"preview",url:"https://staging-defenseofthepatience.herokuapp.com/images/dotp-mens-shirt-black.png"}],sizes:[{size:"Small",variant_id:"5407"},{size:"Medium",variant_id:"5408"},{size:"Large",variant_id:"5409"},{size:"XL",variant_id:"5410"},{size:"2XL",variant_id:"5411"},{size:"3XL",variant_id:"5412"},{size:"4XL",variant_id:"5413"},{size:"5XL",variant_id:"5414"},{size:"6XL",variant_id:"5415"}],chosen_size:{size:"Small",variant_id:"5407"}},{type:"clothing",name:"Ladies' Deep V DotP T-Shirt",retail_price:"24.99",quantity:1,files:[{url:"https://staging-defenseofthepatience.herokuapp.com/images/dotp-logo-ladies-shirt.png"},{type:"preview",url:"https://staging-defenseofthepatience.herokuapp.com/images/dotp-ladies-shirt-black.png"}],sizes:[{size:"Small",variant_id:"6243"},{size:"Medium",variant_id:"6244"},{size:"Large",variant_id:"6245"},{size:"XL",variant_id:"6246"}],chosen_size:{size:"Small",variant_id:"6243"}},{type:"clothing",name:"E'rybody DotP Hoodie",retail_price:"44.99",quantity:1,files:[{url:"https://staging-defenseofthepatience.herokuapp.com/images/dotp-logo-hoodie.png"},{type:"preview",url:"https://staging-defenseofthepatience.herokuapp.com/images/dotp-hoodie.png"}],sizes:[{size:"Small",variant_id:"5530"},{size:"Medium",variant_id:"5531"},{size:"Large",variant_id:"5532"},{size:"XL",variant_id:"5533"},{size:"2XL",variant_id:"5534"},{size:"3XL",variant_id:"5535"},{size:"4XL",variant_id:"5536"},{size:"5XL",variant_id:"5537"}]},{type:"mug",name:"DotP Coffee Mug",retail_price:"19.99",quantity:1,files:[{url:"https://staging-defenseofthepatience.herokuapp.com/images/dotp-mug-11oz.png"},{type:"preview",url:"https://staging-defenseofthepatience.herokuapp.com/images/dotp-mug-left-handle.png"}],sizes:[{size:"11oz",variant_id:"1320",file:"https://staging-defenseofthepatience.herokuapp.com/images/dotp-mug-11oz.png"}]}]}]),angular.module("clientApp").factory("googleAnalytics",["$window","$location",function(a,b){function c(){!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),d()}function d(){var c=b.absUrl();c.indexOf("staging")>0||c.indexOf("localhost")>0?(console.log("got in staging"),a.ga("create","UA-92244858-1","auto")):(console.log("got in prod"),a.ga("create","UA-92244858-2","auto"))}function e(b){a.ga("send","pageview",b)}function f(b,c,d){a.ga("send","event",{eventCategory:b,eventAction:c,eventLabel:d})}return{init:c,trackPage:e,trackEvent:f}}]),angular.module("clientApp").controller("PlayerCtrl",["$rootScope","$state","$timeout","$scope","$sce","feedManager","uiState",function(a,b,c,d,e,f,g){function h(){f.parseFeed(q.page).then(function(a){q.feed=a,console.log(a)})["catch"](function(a){console.log(a)})}function i(){a.$broadcast("player-play",q.feed.episodes[0])}function j(){a.$broadcast("main-next",{})}function k(){a.$broadcast("main-prev",{})}function l(){"root.dashboard"===b.current.name&&(q.isDashboard=!0)}function m(){q.isPlaying=!1}function n(){p()}function o(a){q.API=a}function p(){q.config.sources!==[]&&(q.API.play(),q.isPlaying=!0)}var q=this;q.feed={},q.feed.episodes=[],q.startPodcast=i,q.isOpen=!1,q.isPlaying=!1,q.isDashboard=!1,q.API=null,q.onPlayerReady=o,q.canPlay=n,q.onComplete=m,q.config={sources:[],theme:"bower_components/videogular-themes-default/videogular.css",plugins:{poster:"http://www.videogular.com/assets/images/videogular.png"},title:""},q.goNext=j,q.goPrev=k,q.page=1,h(),d.$on("player-play",function(a,b){b&&(g.setState("isPodcastPlaying",!0),q.API.stop(),q.config.sources=[{src:e.trustAsResourceUrl(b.link),type:"audio/mp3"}],q.config.title=b.title)}),d.$on("player-stop",function(a){g.setState("isPodcastPlaying",!1),q.API.pause(),q.isPlaying=!1,q.config.sources=[]}),d.$on("$stateChangeSuccess",function(a){"root.dashboard"!==b.current.name?q.isDashboard=!1:q.isDashboard=!0}),l()}]).filter("millSecondsToTimeString",function(){return function(a){var b=1e3,c=60*b,d=60*c,e=24*d,f=Math.floor(a%c/b),g=Math.floor(a%d/c),h=Math.floor(a%e/d);return 1===f.toString().length&&(f="0"+f),1===g.toString().length&&(g="0"+g),h+":"+g+":"+f}}),angular.module("clientApp").directive("player",function(){return{scope:{},templateUrl:"views/player.html",controller:"PlayerCtrl",controllerAs:"vm",restrict:"EA",bindToController:!0}}),angular.module("clientApp").directive("cart",function(){return{scope:{},templateUrl:"views/cart.html",controller:"StoreCtrl",controllerAs:"vm",restrict:"EA",bindToController:!0}}),angular.module("clientApp").filter("playerDate",["$filter","moment",function(a,b){var c=a("date");return function(a){var d=new Date(a),e=36e5;return 0>d-e?c(a,"mm:ss"):b(a).utc().format("hh:mm:ss")}}]),angular.module("clientApp").service("MetaService",function(){var a="Home",b="",c="";return{set:function(d,e,f){c=f,b=e,a=d},metaTitle:function(){return a},metaDescription:function(){return b},metaKeywords:function(){return c}}}),angular.module("clientApp").controller("SocialCtrl",["$scope","$state","$rootScope",function(a,b,c){function d(){b.go("root.dashboard")}var e=this;e.close=d}]),angular.module("clientApp").controller("DotpLoaderCtrl",["DotpLoaderSvc",function(a){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.startLoader()}]),angular.module("clientApp").controller("NavCtrl",["$window","DotpLoaderSvc",function(a,b){function c(){f.isNavOpen=!f.isNavOpen}function d(){f.isShareOpen=!f.isShareOpen}function e(a){b.startLoader(),f.isNavOpen=!1,f.isShareOpen=!1}var f=this;f.handleNavClick=c,f.handleShareClick=d,f.animateNav=e,f.isNavOpen=!1,f.isShareOpen=!1}]).directive("navbar",function(){return{scope:{},templateUrl:"views/nav.html",controller:"NavCtrl",controllerAs:"vm",restrict:"EA",bindToController:!0}}),angular.module("clientApp").controller("SocialLinksCtrl",function(){function a(a){var b=a.toLowerCase();return"twitch"===b?"fa fa-twitch":"twitter"===b?"fa fa-twitter":"youtube"===b?"fa fa-youtube":"patreon"===b?"patreon-icon":"discord"===b?"discord-icon":"pvgna"===b?"pvgna-icon":void 0}var b=this;b.getClass=a}).directive("socialLinks",function(){return{scope:{links:"=links"},templateUrl:"views/socialLinks.html",controller:"SocialLinksCtrl",controllerAs:"vm",restrict:"EA",bindToController:!0}}),angular.module("clientApp").directive("playerContainer",function(){return{scope:{},templateUrl:"views/playerContainer.html",controller:"MainCtrl",controllerAs:"vm",restrict:"EA",bindToController:!0}}),angular.module("clientApp").controller("OrderStatusCtrl",["$stateParams","$http",function(a,b){function c(a){console.log("Getting status"),b.get("/api/printful/orders/"+d.orderId).then(function(a){var b=a.data;console.log(a.data),d.printfulStatus=b.status,b.shipments.length>0&&(d.shippingStatus=b.shipments[0].service+" - "+b.shipments[0].tracking_number,d.shippingLink=b.shipments[0].tracking_url)})["catch"](function(a){d.printfulStatus="Error Getting Status",d.shippingStatus="Error Getting Status",console.log(a)})}this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"];var d=this;d.orderId=a.orderId,d.printfulStatus="Retrieving status",d.shippingStatus="Pending",d.shippingLink=null,c(d.orderId)}]),angular.module("clientApp").run(["$templateCache",function(a){a.put("views/1080giveaway.html",'<a class="e-widget" href="https://gleam.io/Wisfg/dotp-doto-2-gtx-1080-giveaway" rel="nofollow">GTX 1080 Giveaway</a> <script type="text/javascript" src="https://js.gleam.io/e.js" async></script>'),a.put("views/about.html",'<div id="about-wrapper"> <div class="about-page active"> <div class="host-card"> <h1 class="roland shimmer">Roland</h1> <social-links links="rolandSocialLinks"></social-links> <div class="about-content"> <div class="about-left"> <img class="host-pic" src="../images/naturesProphet.png" alt=""> </div> <div class="about-right"> <p>Roland began playing Dota in May 2014. He was a diamond tier StarCraft II player who mistakenly believed that his micro skills from StarCraft would equate to him being an awesome Meepo player. Many MMRs were needlessly lost conducting this research. Roland has never loved a game or woman the way he loves Dota 2. Just ask his wife. Roland is, by his own estimation, the best Dota 2 player the world has ever seen and certainly the best Dota 2 player at Defense of the Patience. This is proven by the aforementioned extensive Meepo testing, a whiffed Enigma Black Hole that resulted in him never playing Enigma again in the past two years, and a Dagon-first rush on Nature\'s Prophet in the jungle. You mistakenly believe that Dagon-first means he bought boots and regen first, naturally, then rushed the Dagon. Silly you.</p> <p>Roland loves drinking Red Bull and eating Chik-Fil-A and giving them free advertising despite the fact that neither company pays us for this free publicity nor does he agree with some of their corporate, political stances. This is what makes him such a complex man. He spends his days being disappointed that his infant son isn\'t at least 3k MMR yet, annoying his wife and bringing the hype to Defense of the Patience.</p> </div> </div> </div> <div id="about-cyphus" class="host-card"> <h1 class="cyphus shimmer">Cyphus</h1> <social-links links="cyphusSocialLinks"></social-links> <div class="about-content"> <div class="about-left"> <img class="host-pic" src="../images/antiMage.png" alt=""> </div> <div class="about-right"> <p>Cyphus began playing Dota in June 2014. Being a fan of strategy games like the first Sid Meier\'s Civilization as well as its more recent iterations, Warcraft I and II, the original StarCraft and many more between and since, as well as a fantasy RPG geek the likes of which is rarely seen, Dota 2 felt like home and offered him his first ever MOBA gaming experience. Cyphus is still bad at Dota 2 several years, several thousand hours of playing, and several hundred podcasting hours spent talking about Dota 2 later. Cyphus has a bachelor of science degree in psychology with a minor in communication. He contemplates going back to graduate school constantly to pursue a PhD in psychology as he loves the field and research, but then he thinks about how little time he\'d have to play Dota.</p> <p>Cyphus has over a decade of experience in technical writing, project management and overseeing electronic, mechanical and aviation engineering efforts. When not playing Dota 2, you can find him out in the black in Elite: Dangerous flying in his Cobra Mk III even though everyone keeps telling him that ship is garbage and he\'s sitting on a half billion credits.</p> </div> </div> </div> <!-- <div id="about-ursi" class="about-page" ng-class="vm.getActiveState(\'ursi\')" > --> <div id="about-ursi" class="host-card"> <h1 class="cyphus shimmer">Ursinity</h1> <social-links links="ursiSocialLinks"></social-links> <div class="about-content"> <div class="about-left"> <img class="host-pic" src="../images/Kpop.png" alt=""> </div> <div class="about-right"> <p>Ursinity has played dota on-and-off since middle school when he started to realize his complete inability to play RTS games despite his love of Warcraft III and Starcraft 2. Despite taking breaks to play hardcore PvE World of Warcraft and a variety of terrible free-to-play MMOs, once he got into the Dota 2 beta in January, 2012 he has finally settled down. Drifting from core player to support player to everything in between has lent itself to a varied hero pool and the ability to empathize with the manifold frustrations of all kinds of Dota 2 players. Ursinity is currently in a graduate program studying education with a completed bachelor’s degree in history looking to teach middle school or high school in the future while working for a sports memorabilia company in the meantime.</p> <p>Other than Dota, Ursinity spends his time playing RPGs, listening to Korean pop music, watching Korean variety shows and dramas, reading or watching guilty pleasure supernatural romance novels/shows, and talking about the aforementioned to anyone who will listen (and even those unwilling to listen).</p> </div> </div> </div> <div id="about-proud" class="host-card"> <h1 class="cyphus shimmer">Proud</h1> <social-links links="proudSocialLinks"></social-links> <div class="about-content"> <div class="about-left"> <img class="host-pic" src="../images/DarkSouls.jpg" alt=""> </div> <div class="about-right"> <p>Proud grew up adoring RTS games like Age of Empires and Starcraft and first came to play Dota when it was still a Warcraft 3 mod. After switching between Starcraft 2 and World of Warcraft for several years, Proud has been in a monogamous relationship with Dota since receiving his beta key and has never wavered (Except when a new Dark Souls comes out, but that\'s not important). Beginning his Dota journey with a friend who had experience playing support in other games, Proud naturally ended up playing the carry in lane duos and has been a safelane carry devotee ever since. He also plays way too much Lone Druid. Let\'s hope Rabid is un-nerfed by the time you read this. Proud is currently a full time computer science student in addition to carrying Defense of the Patience on his back literally 24/7.</p> <p>Outside of Dota, Proud\'s main interests include going to see sad music, playing Magic, reading comics, wondering if Berserk is ever going to finish, poring over Dark Souls lore (now it\'s important), buying new witch hats, suffering, and petting cats.</p> </div> </div> </div> <div id="about-breaky" class="host-card"> <h1 class="cyphus shimmer">BreakyCPK</h1> <social-links links="breakySocialLinks"></social-links> <div class="about-content"> <div class="about-left"> <img class="host-pic" src="../images/breakycpk.jpg" alt=""> </div> <div class="about-right"> <p>Nikolas “BreakyCPK” Caras is a professional esports broadcaster who has been given the label by many, the voice of Heroes of Newerth.</p> <p>BreakyCPK became involved in esports casting back in 2009 where he was looking for ways to get more experience to become a sportscaster and decided to give casting games a shot, specifically HoN.</p> <p>BreakyCPK then co-founded the streaming service Honcast, which would eventually become the official competitive streaming hub for Heroes of Newerth and was purchased by S2 Games, the creators of HoN, where he would begin working for them full time as a result. The channel Honcast was also granted one of the first official partnerships with Twitch.TV and has over 58 million views as of late 2016.</p> <p>BreakyCPK is a very dedicated talent that knows how to get viewers excited during a broadcast, with experience not only as talent, but also behind the scenes with streaming and video production.</p> </div> </div> </div> </div> </div>'),
a.put("views/cart.html",'<div class="cart-wrapper" ng-class="" ng-click="vm.isOpen = false"> <div class="player" ng-class="{ \'show-player\': vm.isPlaying }"> <div class="podcast-title"> <div class=""> {{vm.config.title}} </div> </div> </div> </div>'),a.put("views/dotp-loader.html",'<div id="dotp-loader-transparent"> <div id="loader-left"></div> <div id="loader-right"></div> </div> <div id="dotp-loader" ng-click=""></div>'),a.put("views/dotpeeps.html",'<div class=""> dotpeeps view </div>'),a.put("views/episodes.html",'<!-- <div id="superEps" ng-class="{ \'open\': vm.getPodcastButtonState }"> --> <form class="form-inline episode-search"> <div class="form-group"> <input type="text" ng-model="search" class="form-control" placeholder="Search"> </div> </form> <div id="episodes"> <ul> <li ng-repeat="episode in vm.feed.episodes | filter:search"> <div class="podcast-container"> <div class="publish-date"><span class="episode-date">{{episode.date | date:\'mediumDate\' }}<span></span></span></div> <div class="episode-image"><img ng-src="{{vm.getImage(episode.date)}}" alt=""></div> <h2 ng-click="vm.startPodcast(episode)"> {{episode.title}} </h2> </div> <div class="podcast-summary"> <p class="episode-description">{{episode.summary}}</p> </div> <div class="podcast-actions"> <button class="play-control" ng-click="vm.startPodcast(episode)"> <i class="fa fa-play"></i> <span class="play-text">Play</span> </button> <a ng-href="{{episode.link}}" role="button" class="download-control" download="{{episode.guid}}"> <!-- <a ng-href="{{vm.getUrl(episode)}}" role="button" class="download-control " download="{{episode.guid}}"> --> <i class="fa fa-cloud-download"></i> <span class="dl-text">Download</span> </a> <!-- <div class="share-control">\n            <i class="fa fa-share-alt"></i>\n            <span class="share-text">Share</span>\n          </div> --> </div> </li> </ul> </div> <!-- <div id="paging" class="visible" ng-class="{ \'visible\': vm.isOpen }" ng-click="$event.stopPropagation()"> --> <!--   <div id="prev"> --> <!--     <a ng-click="vm.goPrev()"> --> <!--       <div class="prev-text">Newer</div> --> <!--       <i class="fa fa-chevron-left fa-2x"></i> --> <!--     </a> --> <!--   </div> --> <!--   <div id="next"> --> <!--     <a ng-click="vm.goNext()"> --> <!--       <i class="fa fa-chevron-right fa-2x"></i> --> <!--       <div class="next-text">Older</div> --> <!--     </a> --> <!--   </div> --> <!-- </div> --> <!-- </div> -->'),a.put("views/home.html",'<div id="about-wrapper"> <div class="giveaway"><a class="contest-link" href="/1080giveaway">Click here to enter our GTX1080 giveaway!</a></div> <div id="about-dotp" class="about-page"> <h1 class="shimmer">Defense of the Patience</h1> <p>Defense of the Patience is the premier Dota 2 podcast with episodes released five days a week focusing on a variety of Dota 2 topics and strategies as well as featuring guests from all throughout the Dota 2 community. DotP was founded in August 2014 and began as a way for Roland and Cyphus to document their journey through Dota 2 after falling in love with the game earlier that summer. As the podcast grew and reached a wider audience, Ursinity and Proud joined the roster to provide new areas of expertise and show topics.</p> <p>The DotP community and audience has truly been the driving force behind this project and company. It is an exceptionally vibrant, welcoming group of Dota 2 fans that Defense of the Patience is honored to be part of. The community continues to provide DotP with great feedback and inspiration.</p> <p>Our mission is to provide the best informative and entertaining Dota 2-related content possible for our audience and community to continue bringing together Dota 2 players from all walks of life, helping them to improve and enjoy the amazing game we all love.</p> </div> </div>'),a.put("views/ladder.html",'<div class="ladder-content"> <h1 class="shimmer">Rules</h1> <h2>Format</h2> <p> Every week on Wednesday starting at 9:00pm Eastern Time(USA) there will be (up to) 9 games that count towards our ladder (3 concurrent lobbies with 3 games each). Lobby 3 will be reserved for high skill players(4k+) while lobbies 1 and 2 will be for under 4k players. Once you have played in a game each night you are required to defer your spot in the following games to other players unless no other players are waiting to play. </p> <h2>Game Ruleset</h2> <ul> <li><span>Mode:</span> Captains Mode</li> <li> <span>Server:</span> Lobbies must be USEast to make the games fair to both European friends and West Coasters. The server may be changed if both teams agree.<br> The lobby names will be DotP Inhouse #1 and DotP Inhouse #2 and the password will be dotp<br> </li> <li> <span>Advanced Settings:</span> No Cheats, Public Visibility, Starting team(First Pick) Random, No Penalties, No Leagues(for now), Spectators Enabled, 2 minutes DotATV delay, Unlimited Pauses, No Series<br> </li> <li> <span>Communication:</span> All Players are required to use the <a href="https://discord.gg/dotp">DotP Discord</a> You can either run this through a web browser or download the app (recommended) at <a href="www.discordapp.com">Discord</a> </li> </ul> <h2>Seasons</h2> <p> Every 3 months we will be resetting the DotPoints™ Ladder rankings and at the end of the season several prizes will be handed out in the form of steam gift cards<br> Players start with 1000 DotPoints™ Winning a game will Move your DotPoints™ up by 50 and losing will move them down by 50. Teams will be balanced by auto-balance with lobby host discretion. </p> <h2>Conduct</h2> <p> The most important thing about these in houses is to have fun and while we’re aware winning is fun to some people keep a few things in mind: <ol> <li>Do not Rage or Flame your teammates (Doing this will result in a single warning followed by a league ban)</li> <li>Don’t hog captains chair</li> <li>Be communicative with your team over picks/bans</li> </ol> </p> <h2>Stream</h2> <p> Admins will choose a lobby to <a href="https://www.twitch.tv/dotptv">stream</a> for each set of games and will usually be based around which games have the most new blood. </p> <h2>Prizes</h2> <p> 5 $20 steam gift cards and 1 $50 steam gift will be raffled off at the end of the season with “raffle tickets” being determined by the number of games you play.<br> The person on top of the leaderboard at the end of each season will have a different color for their name on the leaderboard for following seasons. </p> <table class="ladder-table"> <thead> <tr> <th>Players</th> <th>Wins</th> <th>Losses</th> <th>Points</th> </tr> </thead> <tbody> <tr ng-repeat="player in vm.ladder.players"> <td> <a style="color:{{::player.color}}" ng-href="http://www.dotabuff.com/players/{{::player.playerId}}">{{::player.nickName}}</a> </td> <td> {{::player.wins}} </td> <td> {{::player.losses}} </td> <td> {{::player.points}} </td> </tr> </tbody> </table> </div>'),a.put("views/login.html",'<div class="login-wrapper"> <div class="inner-login-wrapper"> <div class="logged-in-info" ng-if="vm.user"> <div class=""> Logged in as {{vm.user.email}} </div> </div> <form ng-if="!vm.user" name="loginForm" class="form login-form" ng-submit="vm.submitForm(loginForm.$valid)" novalidate> <div class="form-group" ng-if="!vm.createMode && !vm.resetPasswordMode"> <label for="userEmail">Email Address</label> <input class="" id="userEmail" type="email" name="userEmail" ng-model="vm.userEmail" required> <div ng-messages="loginForm.userEmail.$error"> <p class="error-message" ng-message="required" ng-show="loginForm.userEmail.$touched">Email Address is required.</p> <p class="error-message" class="error-message" ng-message="email" ng-show="loginForm.userEmail.$touched">Must be valid email.</p> </div> </div> <div class="form-group" ng-if="!vm.createMode && !vm.resetPasswordMode"> <label for="password">Password</label> <input class="" type="text" name="password" id="password" ng-model="vm.password" required> <div ng-messages="loginForm.password.$error"> <p class="error-message" ng-message="required" ng-show="loginForm.password.$touched">Password is required.</p> </div> </div> <div class="form-group" ng-if="vm.createMode"> <label for="newUserEmail">Email Address</label> <input class="" id="newUserEmail" type="text" name="newUserEmail" ng-model="vm.newUserEmail" required> <div ng-messages="loginForm.newUserEmail.$error"> <p class="error-message" ng-message="required" ng-show="loginForm.newUserEmail.$touched">Email Address is required.</p> <p class="error-message" ng-message="email" ng-show="loginForm.newUserEmail.$touched">Must be valid email.</p> </div> </div> <div class="form-group" ng-if="vm.createMode"> <label for="newUserDisplayName">Display Name</label> <input class="" id="newUserDisplayName" type="text" name="newUserDisplayName" ng-model="vm.newUserDisplayName"> </div> <div class="form-group" ng-if="vm.createMode"> <label for="newPassword">Password</label> <input class="" type="text" id="newPassword" name="newPassword" ng-model="vm.newPassword" required> <div ng-messages="loginForm.newPassword.$error"> <p class="error-message" ng-message="required" ng-show="loginForm.newPassword.$touched">Password is required.</p> </div> </div> <div class="form-group" ng-if="vm.createMode"> <label for="confirmPassword">Confirm Password</label> <input class="" type="text" id="confirmPassword" name="confirmPassword" ng-model="vm.confirmPassword" ng-pattern="{{vm.newPassword}}" required> <div ng-messages="loginForm.confirmPassword.$error"> <p class="error-message" ng-message="pattern" ng-show="loginForm.confirmPassword.$touched">Passwords do not match.</p> </div> </div> <div class="form-group" ng-if="vm.resetPasswordMode"> <label for="resetEmail">Email Address</label> <input class="" id="resetEmail" type="email" name="resetEmail" ng-model="vm.resetEmail" required> <div ng-messages="loginForm.resetEmail.$error"> <p class="error-message" ng-message="required" ng-show="loginForm.resetEmail.$touched">Email is required.</p> <p class="error-message" ng-message="email" ng-show="loginForm.resetEmail.$touched">Must be valid email.</p> </div> </div> <button ng-disabled="loginForm.$invalid" type="submit" class="cmdr-button" ng-if="!vm.createMode && !vm.resetPasswordMode"> LOGIN </button> <button type="submit" ng-click="vm.createMode = !vm.createMode" ng-if="!vm.createMode && !vm.resetPasswordMode"> REGISTER </button> <button ng-disabled="loginForm.$invalid" ng-if="vm.createMode"> CREATE </button> <button ng-disabled="loginForm.$invalid" ng-click="vm.forgotPassword()" ng-if="vm.resetPasswordMode"> SEND EMAIL </button> <button ng-click="vm.cancelAction()" ng-if="vm.createMode || vm.resetPasswordMode"> CANCEL </button> <div class="forgot-password" ng-click="vm.resetPassword()" ng-if="!vm.resetPasswordMode && !vm.createMode"> Forgot Password? </div> </form> </div> </div>'),a.put("views/main.html",'<div id="main-wrapper"> </div>'),a.put("views/media.html",'<div class=""> media view </div>'),a.put("views/nav.html",'<header id="nav" ng-class="{ \'opened\': vm.isNavOpen, \'shared\': vm.isShareOpen }"> <div id="menu"> <a href="" ng-click="vm.handleNavClick()" class="btn-toggle open"><span></span><span></span><span></span><span></span></a> <nav class="mobile"> <ul class="nav-collapse"> <li class="active"><a href="/" ng-click="vm.animateNav(\'home\')">Home</a></li> <li><a href="hosts" ng-click="vm.animateNav(\'hosts\')">Hosts</a></li> <li><a href="episodes" ng-click="vm.animateNav(\'episodes\')">Episodes</a></li> <li><a href="ladder" ng-click="vm.animateNav(\'ladder\')">Ladder</a></li> <li><a href="store" ng-click="vm.animateNav(\'store\')">Store</a></li> </ul> </nav> </div> </header>'),a.put("views/order-status.html",'<div id="order-status"> <div id="order-id">Order ID: {{vm.orderId}}</div> <div id="printful-status">Item Status: {{vm.printfulStatus}}</div> <div id="shipping-status">Shipping Status: {{vm.shippingStatus}}</div> <div id="shipping-link" ng-if="vm.shippingLink"><a ng-href="{{vm.shippingLink}}">Shipping Tracking</a></div> </div>'),a.put("views/player.html",'<div class="player-wrapper" ng-class="{ \'open\': vm.getPodcastButtonState() }" ng-click="vm.isOpen = false"> <div class="player" ng-class="{ \'show-player\': vm.isPlaying }"> <div class="podcast-title"> {{vm.config.title}} </div> <div class="videogular-container"> <videogular vg-player-ready="vm.onPlayerReady($API)" vg-can-play="vm.canPlay()" vg-complete="vm.onComplete()" vg-theme="vm.config.theme" class="audio" ng-click="$event.stopPropagation()"> <vg-media vg-src="vm.config.sources" vg-type="audio"></vg-media> <vg-controls> <div id="control-top"> <vg-scrub-bar> <vg-scrub-bar-current-time></vg-scrub-bar-current-time> <vg-scrub-bar-buffer></vg-scrub-bar-buffer> </vg-scrub-bar> </div> <div id="control-mid"> <vg-play-pause-button></vg-play-pause-button> <vg-time-display class="time-holder"> {{ currentTime | millSecondsToTimeString }} / {{ totalTime | millSecondsToTimeString }} </vg-time-display> <vg-volume> <vg-volume-bar></vg-volume-bar> </vg-volume> </div> </vg-controls> </videogular> </div> </div> </div>'),a.put("views/playerContainer.html",'<div id="episodes-wrapper" ng-class="{ \'opened\': vm.getPodcastButtonState(), \'show-player\': vm.isPlaying() }"> <div ng-class="{ \'opened\': vm.isPlaying() }"> <a id="feed-icon" ng-click="vm.handleClick()" alt="Woo RSS!"> <div class="play-icon"> <i class="fa fa-play" aria-hidden="true"></i> </div> <div class="waves"> <div class="wave"></div> <div class="wave"></div> <div class="wave"></div> <div class="wave"></div> </div> </a> <!-- <span id="latest-episode">Latest Episode:</br>vm.latestEpisode</span> --> </div> </div> <player ng-class="{ \'opened\': vm.getPodcastButtonState() }"></player>'),a.put("views/social.html",'<div class="social-container"> <span class="close" ng-click="vm.close()"> <i class="fa fa-times-circle-o"></i> </span> <div class="left-column"> <div class="share-links"> <h3 class="social-header">Share us</h3> <ul class="link-wrapper"> <li> <a class="facebook" socialshare="" socialshare-provider="facebook" socialshare-url="http://staging-defenseofthepatience.herokuapp.com"> <i class="fa fa-facebook"></i> Facebook </a> </li> <li> <a class="twitter" socialshare="" socialshare-provider="twitter" socialshare-text="" socialshare-url="http://staging-defenseofthepatience.herokuapp.com" socialshare-hashtags=""> <i class="fa fa-twitter"></i> Twitter </a> </li> <li> <a class="reddit" socialshare="" socialshare-provider="reddit" socialshare-text="" socialshare-url="http://staging-defenseofthepatience.herokuapp.com"> <i class="fa fa-reddit"></i> Reddit </a> </li> </ul> </div> </div> <div class="middle-column"> <div class="community-links"> <h3 class="social-header">Connect with us</h3> <ul class="link-wrapper"> <li> <a class="youtube" href="https://www.youtube.com/channel/UCW2NOXbujybzWHrJUEAXk8Q" target="_blank"> <i class="fa fa-youtube"></i> Youtube </a> </li> <li> <a class="twitch" href="https://www.twitch.tv/dotptv" target="_blank"> <i class="fa fa-twitch"></i> Twitch </a> </li> <li> <a class="discord" href="https://discord.gg/dotp" target="_blank"> <i class="discord-icon"></i> Discord </a> </li> </ul> </div> </div> <div class="right-column"> <div class="support-links"> <h3 class="social-header">Support us</h3> <ul class="link-wrapper"> <li> <a class="patreon" href="https://www.patreon.com/defenseofthepatience" target="_blank"> <i class="patreon-icon"></i> Patreon </a> </li> </ul> </div> </div> </div>'),a.put("views/socialLinks.html",'<div class="social-links"> <ul> <li ng-repeat="link in vm.links"> <a ng-class="link.type" ng-href="{{::link.url}}" target="_blank"> <i ng-class="vm.getClass(link.type)"></i> </a> </li> </ul> </div>'),a.put("views/store.html",'<div id="store-wrapper" class="main-wrapper limit-width-top-level"> <div id="dotp-store"> <h2>DotP Store{{checkoutMessage}}</h2> <div id="close-cart" ng-class="{\'hidden\': !isManagingCart}" ng-click="vm.closeCart()">Close Cart</div> <div class="open-cart" ng-click="vm.openCart()"><i class="fa fa-shopping-cart" aria-hidden="true"></i> {{vm.cart.price | currency}}</div> <!-- <cart></cart> --> <div id="cart-wrapper" ng-class="{\'hidden\': !isManagingCart}"> <ul id="cart-items"> <li class="cart-item" ng-repeat="item in vm.cart.items track by $index"> {{item.name}} ({{item.size}}) - {{item.retail_price}} <i class="fa fa-times" aria-hidden="true" ng-click="vm.removeFromCart($index)"></i> </li> </ul> </div> <div ng-class="{\'hidden\': !isCheckingOut}"> <div class="close-checkout" ng-click="vm.closeCheckOut()">Close Checkout</div> <form> <input class="form-control" placeholder="Enter Your Name" type="text" autocomplete="off" ng-model="buyer"> <input class="form-control" placeholder="Enter Delivery Address" vs-google-autocomplete ng-model="data.address.name" vs-place="data.address.place" vs-place-id="data.address.components.placeId" vs-street-number="data.address.components.streetNumber" vs-street="data.address.components.street" vs-city="data.address.components.city" vs-state="data.address.components.state" vs-country-short="data.address.components.countryCode" vs-country="data.address.components.country" vs-post-code="data.address.components.postCode" vs-district="data.address.components.district" vs-latitude="data.address.components.location.lat" vs-longitude="data.address.components.location.long" name="address" type="text"> </form> <div id="paypal-button"></div> <script src="https://www.paypalobjects.com/api/checkout.js"></script> </div> <div class="store-item" ng-class="{\'item-selected\': isItemSelected, \'hidden\': isManagingCart|| isCheckingOut}"> <div ng-click="vm.startCheckOut()" ng-class="{\'hidden\': isCheckingOut}" class="open-checkout top-button"> <i class="fa fa-credit-card" aria-hidden="true"></i> Check Out{{validationMessage}} </div> <div id="store-spacer"></div> <div class="product float-left" ng-repeat="product in vm.fakeStoreData track by $index" ng-click="handleProductClick($index, $event)" ng-class="getProductClass($index)"> <div class="close-product" ng-click="closeProducts($index, $event)"><i class="fa fa-times"></i></div> <img class="" ng-src="{{::product.files[1].url}}"> <div class="product-specs"> <div class="product-name">{{::product.name}}</div> <div class="product-text" ng-if="!(product.type === \'hat\')"> Size: <select ng-init="product.chosenSize = product.sizes[0]" ng-model="product.chosenSize" ng-options="choice as choice.size for choice in product.sizes"> </select> </div> <div class="product-price">Price: {{::product.retail_price | currency}}</div> <div class="product-add-to-cart" ng-click="vm.addToCart(product, $index, $event)"> <i class="fa fa-cart-plus" aria-hidden="true"></i> <span>Add to cart</span> </div> </div> </div>  </div> <!-- <div style="margin-bottom:200px">\n		  checking out = {{isCheckingOut}}</br>\n			total price = {{totalPrice}}\n			name = {{buyer}}</br>\n			address = {{data.address}}</br>\n			cart = {{vm.cart.items}}</br>\n		</div> --> </div> </div>'),a.put("views/titlebar.html",'<div class="titlebar-container"> <div class="stream-status {{vm.getTwitchClass()}}"> <a target="_blank" href="https://twitch.tv/dotptv" class="twitch"> <span>DotpTV is {{vm.getTwitchClass()}}</span> <i class="fa fa-circle" aria-hidden="true"></i> <i class="fa fa-circle-o" aria-hidden="true"></i> </a> </div> <iframe src="//rcm-na.amazon-adsystem.com/e/cm?o=1&p=13&l=ez&f=ifr&linkID=0daabb21e4152c26de9d71e5500f3692&t=do0b6e-20&tracking_id=do0b6e-20" width="468" height="60" scrolling="no" border="0" marginwidth="0" style="border:none" frameborder="0"></iframe> <player-container></player-container> <nav class="navbar-full" role="navigation"> <ul ng-class="{ \'collapsed\': vm.isCollapsed }"> <li class="title-bar-logo"> <a ui-sref="root.dashboard" ng-click="vm.slideNavPanel = false"> <img src="../images/dotp-logo-notext-01.svg"> </a> </li> <li class="title-bar-nav"> <a class="nav-link" ui-sref="root.episodes" ng-click="vm.slideNavPanel = false"> <span>Episodes</span> </a> </li> <li class="title-bar-nav"> <a class="nav-link" ui-sref="root.store"> <span>Store</span> </a> </li> <li class="title-bar-nav"> <a class="nav-link" ui-sref="root.hosts" ng-click="vm.slideNavPanel = false"> <span>Hosts</span> </a> </li> <li class="title-bar-nav"> <a class="nav-link disabled"> <span style="text-decoration: line-through">Ladder</span> </a> <span class="disabled">Available May 17th</span> </li> </ul> </nav> <social-links links="dotpSocialLinks"></social-links> <navbar></navbar> </div>')}]);